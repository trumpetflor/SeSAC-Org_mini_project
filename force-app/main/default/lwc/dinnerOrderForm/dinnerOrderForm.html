<template>
    <lightning-card title="Ï†ÄÎÖÅ Ïã†Ï≤≠ Ìèºüç±">
        <div class="slds-p-around_medium">
            <!-- Ï£ºÎ¨∏ Îã¥ÎãπÏûêÍ∞Ä ÎãπÏùº Ï£ºÎ¨∏ÏÑúÎ•º ÏûÖÎ†•ÌñàÏùÑ ÏãúÏóê Ìèº ÏûëÏÑ± Í∞ÄÎä• -->

            <!-- ÏÑúÎ≤ÑÏóêÏÑú Í∞ÄÏ†∏Ïò® Ï†ïÎ≥¥Ïóê Îî∞Îùº ÌèºÏùÑ ÎÇòÌÉÄÎÇ¥Í±∞ÎÇò Î©îÏãúÏßÄÎ•º ÌëúÏãú -->
            <template if:true={isFormVisible}>

               <!-- Ï£ºÎ¨∏ Îã¥ÎãπÏûê Ïù¥Î¶ÑÍ≥º Ï£ºÎ¨∏ ÎßàÍ∞êÏãúÍ∞ÑÏùÑ ÌëúÏãúÌïòÎäî Î∂ÄÎ∂Ñ Ï∂îÍ∞Ä -->
                <div if:true={orderRepresentativeName} class="slds-p-around_medium">
                    <p class="slds-text-heading_medium">üôÜ Ïò§ÎäòÏùò Ï£ºÎ¨∏ Îã¥ÎãπÏûê: {orderRepresentativeName}</p>
                    <p class="slds-text-heading_medium">‚è∞ Ï£ºÎ¨∏ ÎßàÍ∞êÏãúÍ∞Ñ: {orderDeadline}</p>
                </div>
                
                <!-- Ïã†Ï≤≠ÏùºÏûêÎ•º ÌëúÏãúÌïòÎäî Input (readonly) -->
                <lightning-input label="Ïã†Ï≤≠ÏùºÏûê" value={applicationDate} readonly class="slds-p-around_medium"></lightning-input>

                <!-- Ïã†Ï≤≠ÏûêÎ•º ÏÑ†ÌÉùÌïòÎäî Combobox -->
                <lightning-combobox
                    label="Ïã†Ï≤≠Ïûê"
                    value={selectedContactId}
                    options={contactOptions}
                    onchange={handleApplicantChange}
                    class="slds-p-around_medium"
                ></lightning-combobox>

                <!-- Dinner Î©îÎâ¥Î•º ÏÑ†ÌÉùÌïòÎäî Combobox -->
                <lightning-combobox
                    label="Î©îÎâ¥Î™Ö"
                    value={selectedDinnerName}
                    options={dinnerOptions}
                    onchange={handleDinnerChange}
                    class="slds-p-around_medium"
                ></lightning-combobox>

                <!-- Submit Î≤ÑÌäº -->
                <lightning-button label="Submit" onclick={handleSubmit} class="slds-p-around_medium"></lightning-button>
            </template>
            
            <!-- ÌèºÏù¥ ÎÇòÌÉÄÎÇòÏßÄ ÏïäÏùÑ Îïå Î©îÏãúÏßÄ ÌëúÏãú -->
            <template if:false={isFormVisible}>
                <p>{message}</p>
                <div  class="slds-p-around_medium">
                <!-- Create Dinner Form Î≤ÑÌäº -->
                 <lightning-button label="Create Dinner Form" onclick={handleCreateDinnerForm} class="slds-p-around_medium"></lightning-button>
                </div>

            </template>

            <!-- Î™®Îã¨ -->
            <template if:true={showDinnerFormModal}>
                <div class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <!-- Î™®Îã¨ Ìó§Îçî -->
                        <header class="slds-modal__header">
                            <h2 class="slds-text-heading_medium">Create Dinner Form</h2>
                        </header>
                        <!-- Î™®Îã¨ Î≥∏Î¨∏ -->
                        <div class="slds-modal__content slds-p-around_medium">
                            <!-- Order Representative ÏÑ†ÌÉù -->
                            <lightning-combobox
                                label="Order Representative"
                                value={selectedOrderRepresentativeId}
                                options={contactOptions}
                                onchange={handleOrderRepresentativeChange}
                            ></lightning-combobox>
                          <!-- Order Deadline ÏûÖÎ†• -->
                          <lightning-input label="Order Deadline" type="time" value={orderDeadline} onchange={handleOrderDeadlineChange}></lightning-input>

                        </div>
                        <!-- Î™®Îã¨ Ìë∏ÌÑ∞ -->
                        <footer class="slds-modal__footer">
                            <button class="slds-button slds-button_brand" onclick={saveDinnerForm}>Save</button>
                            <button class="slds-button" onclick={closeModal}>Cancel</button>
                        </footer>
                    </div>
                </div>
                <div class="slds-backdrop slds-backdrop_open"></div>
            </template>
       
        </div>
    </lightning-card>
</template>